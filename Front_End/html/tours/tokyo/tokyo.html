<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Đà Lạt, Việt Nam</title>
    <link rel="stylesheet" href="../../../resources/css/styles.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <style>
        /* Định vị bảng đặt tour ở góc phải màn hình */
        #ticketBookingModal {
            display: block;
            position: fixed;
            top: 20px;
            right: 20px;
            width: 300px;
            z-index: 1000;
            background-color: #fff;
            border: 1px solid #ccc;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            padding: 20px;
        }

        /* Định dạng modal trên điện thoại */
        @media (max-width: 767px) {
            #ticketBookingModal {
                display: none;
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                width: 90%;
                max-height: 80%;
                overflow-y: auto;
                z-index: 1000;
                background-color: #fff;
                border: 1px solid #ccc;
                border-radius: 10px;
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
                padding: 20px;
            }
        }

        /* Định dạng bảng thông tin đăng ký */
        #bookingModal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 600px;
            height: 600px;
            z-index: 1000;
            background-color: #fff;
            border: 1px solid #ccc;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            padding: 20px;
            overflow-y: auto;
        }

        /* Định dạng modal trên điện thoại */
        @media (max-width: 767px) {
            #bookingModal {
                width: 90%;
                height: auto;
                max-height: 90%;
                overflow-y: auto;
            }
        }

        /* Định dạng modal hiển thị thông tin người dùng */
        #userInfoModal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 400px;
            height: 400px;
            z-index: 1000;
            background-color: #fff;
            border: 1px solid #ccc;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            padding: 20px;
            overflow-y: auto;
        }

        /* Định dạng modal trên điện thoại */
        @media (max-width: 767px) {
            #userInfoModal {
                width: 90%;
                height: auto;
                max-height: 80%;
                overflow-y: auto;
            }
        }

        /* Định dạng hình ảnh trong phần thông tin chuyến đi */
    .gallery img {
        width: 150px; /* Đặt chiều rộng nhỏ hơn */
        height: auto; /* Tự động điều chỉnh chiều cao theo tỷ lệ */
        margin: 5px; /* Thêm khoảng cách giữa các hình ảnh */
        border-radius: 5px; /* Bo góc nhẹ cho hình ảnh */
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2); /* Thêm hiệu ứng đổ bóng */
    }

    /* Định dạng trên thiết bị di động */
    @media (max-width: 767px) {
        .gallery img {
            width: 100px; /* Giảm kích thước hình ảnh trên màn hình nhỏ */
        }
    }


        /* Nút "Đăng Ký" cố định ở dưới màn hình trên điện thoại */
        @media (max-width: 767px) {
            #register-button {
                position: fixed;
                bottom: 10px;
                left: 50%;
                transform: translateX(-50%);
                z-index: 1000;
                background-color: #007bff;
                color: white;
                border: none;
                border-radius: 5px;
                padding: 10px 20px;
                font-size: 16px;
                box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
            }

            #register-button:hover {
                background-color: #0056b3;
            }
        }
    </style>
</head>

<body>
    <!-- Phần tiêu đề -->
    <header class="bg-primary text-white py-3">
        <div class="container d-flex justify-content-start align-items-center">
            <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
                <a href="../../../index.html" class="navbar-brand">
                    <img src="../../../resources/images/brand/brandlogo.png" alt="Logo">
                </a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav">
                        <li class="nav-item dropdown">
                            <a class="nav-link" href="../../../index.html">Du Lịch</a>
                            <div class="dropdown-menu">
                                <a href="../../../index.html#domestic">Du Lịch Trong Nước</a>
                                <a href="../../../index.html#international">Du Lịch Nước Ngoài</a>
                            </div>
                        </li>
                        <li class="nav-item"><a class="nav-link" href="../../../index.html#flights">Vé Máy Bay</a></li>
                        <li class="nav-item"><a class="nav-link" href="../../../index.html#">Tours</a></li>
                        <li class="nav-item"><a class="nav-link" href="../../../index.html#news">Tin Tức</a></li>
                        <li class="nav-item"><a class="nav-link" href="../../../index.html#about">Giới Thiệu</a></li>
                        <li class="nav-item account-icon dropdown">
                            <img src="https://cdn-icons-png.flaticon.com/512/149/149071.png" alt="Account Icon">
                            <div class="dropdown-menu">
                                <a href="../../../html/auth/login.html">Đăng Nhập</a>
                                <a href="../../../html/auth/register.html">Đăng Ký</a>
                            </div>
                        </li>
                    </ul>
                </div>
            </nav>
        </div>
    </header>

   <!-- Phần thông tin chuyến đi -->
   <section class="py-5">
    <div class="container">
        <h2>Thông Tin Chuyến Đi</h2>
        <p>Thành phố hiện đại với văn hóa truyền thống phong phú.</p>
        <p><strong>Giá: $1200</strong></p>
        <h3>Hình Ảnh</h3>
        <div class="gallery">
            <img src="../../../resources/images/destinations/tokyo.jpg" alt="Tokyo">
            <img src="../../../resources/images/destinations/tokyo.jpg" alt="Tokyo">
            <img src="../../../resources/images/destinations/tokyo.jpg" alt="Tokyo">
        </div>
        
    </div>
</section>


<body>
    <!-- Nút "Đăng Ký" cố định trên điện thoại -->
    <button id="register-button" class="btn btn-primary d-md-none">Đăng Ký</button>

    <!-- Modal chọn ngày và số vé -->
    <div id="ticketBookingModal">
        <div class="modal-content">
            <form id="ticket-form-modal" action="#" method="post">
                <div class="form-group">
                    <h3>Đăng Ký Tour</h3>
                    <label for="tour-date-ticket">Chọn Ngày:</label>
                    <input type="date" id="tour-date-ticket" name="tour-date" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="adults-ticket">Số Vé Người Lớn ($30/vé):</label>
                    <input type="number" id="adults-ticket" name="adults" class="form-control" min="0" value="0" required>
                </div>
                <div class="form-group">
                    <label for="children-ticket">Số Vé Trẻ Em ($20/vé):</label>
                    <input type="number" id="children-ticket" name="children" class="form-control" min="0" value="0" required>
                </div>
                <div class="form-group">
                    <label for="total-price-ticket">Tổng Tiền:</label>
                    <p id="total-price-ticket">$1200</p>
                </div>
                <button type="submit" class="btn btn-primary">Tiếp Tục</button>
                <button type="button" id="cancel-ticket-button" class="btn btn-secondary d-md-none">Cancel</button>
            </form>
        </div>
    </div>

    <!-- Modal nhập thông tin người dùng -->
    <div id="bookingModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <form id="tour-form-modal" action="#" method="post">
                <div class="form-group">
                    <h3>Thông Tin Người Dùng</h3>
                    <label for="name-modal">Tên Khách Hàng:</label>
                    <input type="text" id="name-modal" name="name" class="form-control" placeholder="Nhập tên của bạn" required>
                </div>
                <div class="form-group">
                    <label for="phone-modal">Số Điện Thoại:</label>
                    <input type="tel" id="phone-modal" name="phone" class="form-control" placeholder="Nhập số điện thoại"
                        pattern="[0-9]{10,11}" title="Vui lòng nhập số điện thoại hợp lệ (10-11 chữ số)" required>
                </div>
                <div class="form-group">
                    <label for="email-modal">Email:</label>
                    <input type="email" id="email-modal" name="email" class="form-control" placeholder="Nhập email" required>
                </div>
                <div class="form-group">
                    <label for="address-modal">Địa Chỉ:</label>
                    <textarea id="address-modal" name="address" class="form-control" rows="3" placeholder="Nhập địa chỉ" required></textarea>
                </div>
                <button type="submit" class="btn btn-primary">Đăng Ký</button>
                <button type="button" id="cancel-button" class="btn btn-secondary">Cancel</button>
            </form>
        </div>
    </div>

    <!-- Modal hiển thị thông tin người dùng -->
    <div id="userInfoModal" class="modal">
        <div class="modal-content">
            <span class="close-user-info">&times;</span>
            <h3>Thông Tin Người Đăng Ký</h3>
            <div id="user-info-content">
                <!-- Thông tin người dùng sẽ được hiển thị ở đây -->
            </div>
            <button class="btn btn-success">Thanh Toán</button>
            <button type="button" id="cancel-user-info-button" class="btn btn-secondary">Cancel</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
        const ticketBookingModal = document.getElementById('ticketBookingModal');
        const registerButton = document.getElementById('register-button');
        const ticketFormModal = document.getElementById('ticket-form-modal');
        const bookingModal = document.getElementById('bookingModal');
        const tourFormModal = document.getElementById('tour-form-modal');
        const userInfoModal = document.getElementById('userInfoModal');
        const userInfoContent = document.getElementById('user-info-content');
        const adultsInput = document.getElementById('adults-ticket');
        const childrenInput = document.getElementById('children-ticket');
        const totalPriceElement = document.getElementById('total-price-ticket');
        const cancelButton = document.getElementById('cancel-button');
        const cancelTicketButton = document.getElementById('cancel-ticket-button');
        const cancelUserInfoButton = document.getElementById('cancel-user-info-button');
        const paymentButton = document.querySelector('.btn-success');

        const basePrice = 1200;
        const adultPrice = 30;
        const childPrice = 20;

        // Kiểm tra nếu đang ở chế độ điện thoại
        function isMobile() {
            return window.innerWidth <= 767;
        }

        // Hiển thị modal "Chọn Ngày và Số Vé" khi nhấn nút "Đăng Ký" trên điện thoại
        registerButton.addEventListener('click', function () {
            if (isMobile()) {
                ticketBookingModal.style.display = 'block'; // Hiển thị modal trên điện thoại
            }
        });

        // Tính tổng tiền khi thay đổi số vé
        function calculateTotalPrice() {
            const adults = parseInt(adultsInput.value) || 0;
            const children = parseInt(childrenInput.value) || 0;
            const total = basePrice + (adults * adultPrice) + (children * childPrice);
            totalPriceElement.textContent = `$${total}`;
        }

        adultsInput.addEventListener('input', calculateTotalPrice);
        childrenInput.addEventListener('input', calculateTotalPrice);

        // Xử lý sự kiện "Tiếp Tục"
        ticketFormModal.addEventListener('submit', function (event) {
            event.preventDefault();

            const tourDate = document.getElementById('tour-date-ticket').value;
            const adults = parseInt(adultsInput.value) || 0;
            const children = parseInt(childrenInput.value) || 0;
            const totalPrice = totalPriceElement.textContent;

            ticketBookingModal.style.display = 'none';
            bookingModal.style.display = 'block';

            tourFormModal.dataset.tourDate = tourDate;
            tourFormModal.dataset.totalPrice = totalPrice;
        });

        // Xử lý sự kiện "Đăng Ký"
        tourFormModal.addEventListener('submit', function (event) {
            event.preventDefault();

            const name = document.getElementById('name-modal').value;
            const phone = document.getElementById('phone-modal').value;
            const email = document.getElementById('email-modal').value;
            const address = document.getElementById('address-modal').value;
            const tourDate = tourFormModal.dataset.tourDate;
            const totalPrice = tourFormModal.dataset.totalPrice;

            const infoContent = `
                <p><strong>Ngày Đăng Ký:</strong> ${tourDate}</p>
                <p><strong>Tên Khách Hàng:</strong> ${name}</p>
                <p><strong>Số Điện Thoại:</strong> ${phone}</p>
                <p><strong>Email:</strong> ${email}</p>
                <p><strong>Địa Chỉ:</strong> ${address}</p>
                <p><strong>Tổng Tiền:</strong> ${totalPrice}</p>
            `;

            userInfoContent.innerHTML = infoContent;
            bookingModal.style.display = 'none';
            userInfoModal.style.display = 'block';
        });

        // Xử lý sự kiện "Thanh Toán"
        paymentButton.addEventListener('click', function () {
            alert('Thanh toán thành công!');
            userInfoModal.style.display = 'none'; // Đóng modal thông tin người dùng
            ticketBookingModal.style.display = 'block'; // Trả về modal đăng ký tour
            tourFormModal.reset(); // Xóa dữ liệu trong form thông tin người dùng
            ticketFormModal.reset(); // Xóa dữ liệu trong form chọn ngày và số vé
            totalPriceElement.textContent = `$1200`; // Đặt lại tổng tiền về giá trị mặc định
        });

        // Xử lý sự kiện "Cancel" trong modal thông tin người dùng
        cancelUserInfoButton.addEventListener('click', function () {
            userInfoModal.style.display = 'none';
            ticketBookingModal.style.display = 'block'; // Trả về modal đăng ký tour
            tourFormModal.reset(); // Xóa dữ liệu trong form thông tin người dùng
            ticketFormModal.reset(); // Xóa dữ liệu trong form chọn ngày và số vé
            totalPriceElement.textContent = `$1200`; // Đặt lại tổng tiền về giá trị mặc định
        });

        // Xử lý sự kiện "Cancel" trong modal đặt tour (chỉ trên điện thoại)
        cancelTicketButton.addEventListener('click', function () {
            if (isMobile()) {
                ticketBookingModal.style.display = 'none';
                ticketFormModal.reset(); // Xóa dữ liệu trong form chọn ngày và số vé
                totalPriceElement.textContent = `$1200`; // Đặt lại tổng tiền về giá trị mặc định
            }
        });

        // Xử lý sự kiện "Cancel" trong modal thông tin đăng ký
        cancelButton.addEventListener('click', function () {
            bookingModal.style.display = 'none';
            ticketBookingModal.style.display = 'block'; // Trả về modal đăng ký tour
            tourFormModal.reset(); // Xóa dữ liệu trong form thông tin người dùng
        });
    });
    </script>

    <!-- Phần chân trang -->
    <footer class="bg-primary text-white text-center py-3">
        <h2 class="text-center">Liên Hệ</h2>
        <p class="text-center">Để biết thêm thông tin, vui lòng liên hệ với chúng tôi qua email:
            longtravel@mail.com</p>
        <p>&copy; 2023 Khám Phá Thế Giới. Bảo lưu mọi quyền.</p>
    </footer>
</body>

</html>